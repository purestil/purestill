<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<!-- üåô Universal theme sync -->
<script>
(function(){
  const KEY="purestill-theme";
  const saved=localStorage.getItem(KEY);
  const hour=new Date().getHours();
  const mode=saved||(hour>=19||hour<=5?"dark":"light");
  if(mode==="dark") document.documentElement.classList.add("dark");
})();
</script>

<title>{{TITLE}} | PureStill</title>

<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="{{SUMMARY}}">
<meta name="robots" content="index, follow">
<meta http-equiv="content-language" content="en-us">
<link rel="canonical" href="{{CANONICAL_URL}}">

<meta name="news_keywords" content="{{CATEGORY}}">
<meta property="article:published_time" content="{{DATE}}">
<meta property="article:modified_time" content="{{DATE}}">

<style>
/* ================= CORE TOKENS ================= */
:root{
  --bg:#ffffff;
  --text:#111111;
  --muted:#5f6368;
  --border:#e5e7eb;
  --accent:#c9b26b;
  --accent-hover:#d4af37;

  /* BrianCoords-style reading width */
  --reading-width:860px;
}

html.dark{
  --bg:#0e0e10;
  --text:#eae6da;
  --muted:#9ca3af;
  --border:#2a2a2e;
}

/* ================= BASE ================= */
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.95;
}
a{
  color:var(--accent);
  text-decoration:underline;
}
a:hover{color:var(--accent-hover)}

/* ================= HEADER (UNCHANGED) ================= */
header{
  text-align:center;
  padding:28px 0;
  border-bottom:1px solid var(--border);
}
.brand a{
  font-family:Georgia,serif;
  font-size:30px;
  font-weight:600;
  color:var(--text);
  text-decoration:none;
}

/* ================= PROGRESS ================= */
#reading-progress{
  position:fixed;
  top:0;
  left:0;
  height:3px;
  width:0;
  background:var(--accent);
  z-index:9999;
}

/* ================= ARTICLE WRAP ================= */
.article-wrap{
  max-width:var(--reading-width);
  margin:0 auto;
  padding:80px 24px 140px;
}

/* ================= META ================= */
.category{
  font-size:13px;
  text-transform:uppercase;
  letter-spacing:.05em;
  color:var(--muted);
  margin-bottom:16px;
}
h1{
  font-family:Georgia,serif;
  font-size:clamp(34px,4.2vw,48px);
  line-height:1.25;
  margin-bottom:20px;
}
.subhead{
  font-size:20px;
  color:var(--muted);
  margin-bottom:36px;
}
.meta{
  font-size:13px;
  color:var(--muted);
  margin-bottom:52px;
}

/* ================= ARTICLE CONTENT ================= */
article{
  font-size:19.5px;
}

/* BrianCoords-style paragraphs */
article p{
  margin-bottom:34px;
  letter-spacing:.15px;
}

/* Section rhythm */
article h2{
  font-family:Georgia,serif;
  font-size:1.65em;
  margin:84px 0 32px;
}
article h3{
  font-family:Georgia,serif;
  font-size:1.35em;
  margin:64px 0 28px;
}

/* Emphasis block (used sparingly) */
.article-note{
  border-left:3px solid var(--accent);
  padding-left:18px;
  margin:52px 0;
  font-size:18px;
  color:var(--muted);
}

/* ================= ADS ================= */
.ad{
  margin:80px 0;
}

/* ================= SOURCE ================= */
.source{
  margin-top:80px;
  padding-top:28px;
  border-top:1px solid var(--border);
  font-size:14px;
  color:var(--muted);
}

/* ================= INTERNAL LINKS ================= */
.internal-links{
  margin-top:110px;
  padding-top:52px;
  border-top:1px solid var(--border);
}
.internal-links h2{
  font-family:Georgia,serif;
  font-size:24px;
  margin-bottom:30px;
}
.link-list{
  display:grid;
  gap:22px;
}
.link-item a{
  font-size:17px;
  font-weight:600;
  color:var(--text);
  text-decoration:none;
}
.link-item a::after{
  content:" ‚Üí";
  opacity:0;
  transition:opacity .2s ease;
}
.link-item a:hover::after{opacity:1}
.link-item span{
  display:block;
  font-size:14px;
  color:var(--muted);
  margin-top:6px;
}

/* ================= PAGINATION ================= */
.article-pagination{
  display:flex;
  justify-content:space-between;
  gap:24px;
  margin-top:100px;
  padding-top:40px;
  border-top:1px solid var(--border);
}
.article-pagination a{
  max-width:48%;
  font-size:15px;
  color:var(--text);
  text-decoration:none;
}
.article-pagination span{
  display:block;
  font-size:12px;
  color:var(--muted);
}

/* ================= FOOTER ================= */
footer{
  margin-top:140px;
  padding-top:40px;
  border-top:1px solid var(--border);
  font-size:14px;
  color:var(--muted);
}
footer a{
  margin-right:18px;
  color:var(--muted);
  text-decoration:none;
}
footer a:hover{text-decoration:underline}
</style>
</head>

<body>

<div id="reading-progress"></div>

<header>
  <div class="brand"><a href="/">PureStill</a></div>
</header>

<main class="article-wrap">

<div class="category">{{CATEGORY}}</div>

<h1>{{TITLE}}</h1>

<div class="subhead">{{SUMMARY}}</div>

<div class="meta">Published {{DATE}}</div>

<article>
{{CONTENT}}
</article>

{{AD_MID}}

<div class="source" id="sourceBlock">
  <strong>Source:</strong>
  <span class="sources" data-sources="{{SOURCE}}"></span>
</div>

{{AD_BOTTOM}}

<!-- üîó INTERNAL LINKS -->
<section class="internal-links">
  <h2>More Analysis</h2>
  <div class="link-list" id="autoLinks"></div>
</section>

<!-- üîÅ PAGINATION -->
<nav class="article-pagination" id="articlePagination"></nav>

<footer>
  <a href="/about.html">About</a>
  <a href="/privacy-policy.html">Privacy</a>
  <a href="/terms.html">Terms</a>
  <a href="/disclaimer.html">Disclaimer</a>
  <a href="/contact.html">Contact</a><br><br>
  ¬© PureStill
</footer>

</main>

<script>
/* Reading progress */
window.addEventListener("scroll",()=>{
  const h=document.documentElement;
  const p=(h.scrollTop/(h.scrollHeight-h.clientHeight))*100;
  document.getElementById("reading-progress").style.width=p+"%";
});

/* Auto internal links + pagination */
fetch('/data.json')
.then(r=>r.json())
.then(data=>{
  const articles=data.articles;
  const current=location.pathname;

  const list=document.getElementById('autoLinks');
  articles.filter(a=>a.url!==current).slice(0,3).forEach(a=>{
    const d=document.createElement('div');
    d.className='link-item';
    d.innerHTML=`<a href="${a.url}">${a.title}</a><span>${a.summary}</span>`;
    list.appendChild(d);
  });

  const idx=articles.findIndex(a=>a.url===current);
  const nav=document.getElementById('articlePagination');

  if(idx>0){
    nav.innerHTML+=`<a href="${articles[idx-1].url}">
      <span>‚Üê Previous</span>${articles[idx-1].title}
    </a>`;
  }
  if(idx<articles.length-1){
    nav.innerHTML+=`<a href="${articles[idx+1].url}">
      <span>Next ‚Üí</span>${articles[idx+1].title}
    </a>`;
  }
});
</script>

</body>
</html>
